{% extends 'base.html' %}

{% block content %}
  <h1>Detail</h1>
  <button type="button" class="btn btn-outline-danger card-link me-2" onclick="location.href='{% url 'eithers:random' %}'">Random Question</button>
  <button type="button" class="btn btn-outline-primary card-link me-2" onclick="location.href='{% url 'eithers:index' %}'">Back</button>
  <hr>
  
  <h1 class="text-center">{{ question.title }}</h1>
  <br>
  <div class="d-flex justify-content-between">
    <h2 class="text-primary">{{ question.issue_a }}</h2>
    <h2 class="text-danger">{{ question.issue_b }}</h2>
  </div>
  <hr>
  {% if comments.count != 0 %}
    <div class="progress" style="height: 50px;">
      <div class="progress-bar progress-bar-striped fs-4" role="progressbar"  style="width: {{ Blue }}%" aria-valuemin="0" aria-valuemax="100" f> {{ Blue }} </div>
      <div class="progress-bar progress-bar-striped bg-danger fs-4" role="progressbar" style="width: {{ Red }}%"  aria-valuemin="0" aria-valuemax="100">{{ Red }} </div>
    </div>
    <hr>
  {% endif %}

  
  <h3>댓글 작성</h3>
    <form action="{% url 'eithers:comment_create' question.pk %}" method="POST">
      {% csrf_token %}
      {{ comment_form }}
      <br>
      <button type="submit" class="btn btn-warning">작성</button>
    </form>

  <hr>


  <h3>댓글 목록</h3>
    {% for comment in comments %}
    {% if  comment.pick == 'Blue'%}
      <div class="p-3 mb-2 bg-primary bg-opacity-50">
        <div style = "color:blue;">{{ comment.content }}</div>
        </div>
    {% else %}
    <div class="p-3 mb-2 bg-danger bg-opacity-50">
      <div class="text-danger">{{ comment.content }}</div>
      </div>
    {% endif %}
      
      <hr>
    {% endfor %}
  
{% endblock content %}
